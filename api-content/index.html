{"posts":[{"title":"智能指针","content":"std::unique_ptr - cppreference.com 使用时优先选择unique_ptr，然后是shared_ptr，因为开销原因 #include &lt;memory&gt; unique_ptr 的构造函数是[[Notion/C++/笔记/关键字/explicit|explicit]]类型,表示必须显式调用构造函数，所以不能使用隐式转换: std::unique_ptr&lt;Entity&gt; entity = new Entity; 而必须显式调用： std::unique_ptr&lt;Entity&gt; entity(new Entity()); 更推荐使用make_unique,可以避免一些异常 std::unique_ptr&lt;Entity&gt; = std::make_unique&lt;Entity&gt;(); 不支持复制操作 ![[file://C:/Users/whale/OneDrive/Gridea/post-images/Pasted image 20240527110237.png]] 因为在定义中，拷贝构造函数和操作符被删除： ![[file://C:/Users/whale/OneDrive/Gridea/post-images/Pasted image 20240527110210.png]] shared_ptr std::shared_ptr - c ppreference.com shared_ptr的工作方式是引用计数可以跟踪指针有多少引用，一旦数量为0，则对象被删除 可以将shared_ptr复制给shared_ptr类型 weak_ptr 使用weak_ptr不会增加引用计数； ![[file://C:/Users/whale/OneDrive/Gridea/post-images/Pasted image 20240527113158.png]] ","link":"https://is-whale.github.io/post/0yJUJGsE_/"},{"title":"隐式构造函数","content":"自动进行一次隐式转换。 ![[file://C:/Users/whale/OneDrive/Gridea/post-images/Pasted image 20240523143820.png]] explicit 禁止隐式转换，必须显式调用构造函数。 可以防止被隐式转换，造成安全或者性能问题。 ","link":"https://is-whale.github.io/post/bS-hMhPe1/"},{"title":"对象生存期","content":"栈 基于栈的变量，在离开作用域后被释放销毁； 栈分配方式：栈顶指针移动，返回当前地址。 效率很高。 堆 基于堆的内存，在程序终止时被销毁。 堆分配方式：底层调用malloc，会调用更底层的操作系统指令，在空闲列表中寻找空闲内存 应尽量在栈上分配内存，因为巨大的性能差异。除非无法在栈上分配，如数据过大，或堆生存期有有特殊要求。 如：以下的错误方式 ![[file://C:/Users/whale/OneDrive/Gridea/post-images/Pasted image 20240527102157.png]] 这个特性的正面作用：智能指针，作用域指针。 作用域指针（类） unique_ptr 离开作用域自动删除对象 效果类似于[[智能指针]] ![[file://C:/Users/whale/OneDrive/Gridea/post-images/Pasted image 20240527102644.png]] ","link":"https://is-whale.github.io/post/yGgTc9Fu2/"},{"title":"纯虚函数","content":"纯虚函数允许我们在基类中定义一个不存在的函数，然后强制子类中实现它。 如创建一个类，只有未实现的方法组成，然后强制子类去实际实现它们。通常称为接口 ![[file://C:/Users/whale/OneDrive/Gridea/post-images/Untitled 22.png|Untitled 22.png]] 可见性 mutable 允许常量方法修改变量，修饰变量 用法 如允许类中的const方法修改mutable修饰的某个类变量 lambda表达式 ，允许修改变量 ![[file://C:/Users/whale/OneDrive/Gridea/post-images/Pasted image 20240523110931.png]] ","link":"https://is-whale.github.io/post/_qJoB7l2I/"},{"title":"成员初始化列表","content":"除了在构造函数中赋值，还可以使用初始化列表来进行成员初始化。 尽量使用初始化列表 除了代码风格更为简介，还有性能问题 如下面例子中，调用了默认构造函数从而导致对象被创建了两次，一次被丢弃，导致了性能浪费。 ![[file://C:/Users/whale/OneDrive/Gridea/post-images/Pasted image 20240523112854.png]] ","link":"https://is-whale.github.io/post/oPdzLnniU/"},{"title":"auto关键字","content":"返回一个引用，但不一定存储为引用。 ","link":"https://is-whale.github.io/post/nJjQ6s8Lr/"},{"title":"双系统删除引导的修复","content":"问题记录： 双硬盘双系统。win11+Manjaro。win11的全系统分区与引导都在固态盘。Manjaro的EFI分区，/和/home分区都在机械盘的一个分区。 Manjaro无法进入内核，于是顺便准备安装ubuntu,安装到了原本Manjaro的空间。在次过程把磁盘从AHCI改打了另一个模式。 ","link":"https://is-whale.github.io/post/NPIQdeBW4/"},{"title":"修复Gridea远端文章","content":"问题 本地修改，同步到远程之后电机打开文章，则域名会显示本地端口的URL，自然无法进入。 错误URL示例： http://localhost:4000/yong-lai-ce-shi/ 刚开始怀疑是没有生成正确的子页面URL，于是打开index.html检查，发现网址是对的，但是点击跳转之后依然是跳转到本地域名。 于是尝试使用远端主域名替换本地端口，即 https://is-whale.github.io/yong-lai-ce-shi/ 跳转成功，文章正确显示，但是在文章结束的链接中依然是本地域名， 问题解决设想 index的域名并不是真正的跳转链接，跳转链接应该在其他地方，（比如有可能是每个文章中的原文链接） ","link":"https://is-whale.github.io/post/EBNzUVknm/"},{"title":"dell调节亮度","content":"码着码着，慢慢写 ","link":"https://is-whale.github.io/post/dell-diao-jie-liang-du/"},{"title":"加密压缩包暴力破解","content":"文章先码着，后面写 ","link":"https://is-whale.github.io/post/jia-mi-ya-suo-bao-bao-li-po-jie/"},{"title":"文件恢复软件","content":"发现了一批好用的恢复软件。文章先码着，慢慢写 ","link":"https://is-whale.github.io/post/hui-fu-ruan-jian/"},{"title":"电控远程调参的一个方案","content":"<!-- more --> ###原来的配置： 全双工无线串口一对，USART3在程序中设置为调试串口，实现一个串口shell； 调参方案历经迭代，从最原始的程序中调试然后烧录，再到加入shell，使用一个有线ttl连接调试但是在调试一些危险的场景（云台，全车上电调试），有线串口常常会拽断线，甚至连带摔坏电脑。后来升级无线串口。 目前方案还算顺手但是还存在一些问题，如中低端无线串口会偶尔存在卡死的情况，而廖总引以为傲的高档无线串就不会卡死（廖总说的）😂。此外，通过打印来调试其实并不是万无一失的调试方案，会占用一定的时间，如果对时间比较敏感的代码会当场暴毙，但是也可以通过DMA+缓冲区+队列的方式来解决。 ###改进方案 ####1.调试器自带的仿真调试 ####2.通过程序和硬件升级串口 刚好放假前收了一个正点原子的ESP8266，最近在上手的时候有了一个大胆的调试想法。 首先，大疆DR16&amp;17遥控器遥控距离支持1km的超远距离，这样就让宿舍调参有了实现的可能😂😂😂，再加上ESP8266的STA模式。 利用esp的透传，又称透明传输，具体来说就是“输入即输出（如从WiFi模块串口输入的字符会透传到服务器端）”，数据不改变，不同协议之间的转换（如串口到WiFi、蓝牙等）由模块完成。使用者无需关心内部具体实现，因此模块对于使用者是“透明的”、似乎不存在的（因为可无视中间的实现原理）。一个高度封装的模块，应该隐藏内部实现细节，仅对外提供使用接口。' ，然后搭配串口shell，就可以实现“人在床上躺，车在六楼调”的理想生活 ","link":"https://is-whale.github.io/post/dian-kong-yuan-cheng-diao-can-de-yi-ge-da-dan-fang-an/"},{"title":"机械组图纸协作体系","content":"工具： 暂定使用微力协作 后续添加自建服务器和中转方案 实现自动同步和云端库 步骤 1.下载安装包 绿色版，免安装，下载压缩包放在除C盘的任意分区，点击exe文件运行 允许通过防火墙 同意使用协议，重命名设备。 软件说明 设备之间同步时是P2P直连，不经过中心服务器，所以必须保持至少一个设备在线，否则无法下载。 同时，由于不依赖中心服务器，性能优越并且数据完全自主掌控。 注：目前已在阿里云服务器部署了客户端，一直运行作为数据中心，能够保证所有数据一经修改则马上同步，目前英雄组图纸在云端保存。 2.添加需要同步的文件夹 点击新建同步，有两个选项。 标准文件夹用来同步自己件夹，连接密钥用来从别人电脑同步文件 一，标准文件夹(组长或有完整图纸的组员) 选择标准文件夹，添加需要同步的图纸文件夹 可以直接同步当前的图纸文件夹也可以把文件夹复制一份 （建议把本地图纸文件夹复制一份，选中复制的来同步。在原来图纸文件夹内做完修改后继续复制，选择覆盖内容） 3.然后设置权限，协作修改图纸应选择为&quot;读写&quot;，然后复制读写密钥发送给其他人 至此，同步发起端设置完成。 二，连接密钥（组员） 1.新建文件夹，选择连接密钥，输入组内密钥 选择下一步 在存放图纸的文件夹内新建一个空白文件夹。选择此路径 设置完成 注意 1.如果很多台电脑均设置了同步一个文件夹，当互相同步完成后，理论上只要有一台电脑联网，那其他电脑就可以连接并且同步 2.多台设备之间没有优先级，互相同步的是任意一台电脑做的最新的修改。所以建议使用图纸文件夹的备份 3.提前协商不要同时修改一个文件 3.可以多测试，如同时修改保存同一个文件。 ","link":"https://is-whale.github.io/post/ji-jie-zu-tu-zhi-xie-zuo-ti-xi/"},{"title":"解决Gridea打开空白","content":"如图 假装有图片 打开C盘用户目录下的appdate文件夹 找到Grigea缓存目录，全部删除 重新打开 好了 ","link":"https://is-whale.github.io/post/jie-jue-gridea-da-kai-kong-bai/"},{"title":"Robomaster移植官方代码使用DAP","content":"##背景 下载调试RoBoMaster官方程序，原来的工程下载选项是ST-LINK,但是我们日常使用的下载器是DAP系列下载器。按照经验将Debug中下载器改为DAP，然后下载依然提示无ST-LINK连接，下载失败。 解决方案 除了Debug中下载器改为ST-LINK,下图中也需改为ST-link 但是大多数工程，第二个选项其实是缺省的，所以只进行第一步就可以正常下载。 ","link":"https://is-whale.github.io/post/robomaster-yi-zhi-guan-fang-dai-ma-shi-yong-dap/"},{"title":"记录Gridea同步不成功的解决方案","content":"方案一 背景：Gridea推送原理依然是git下的推送，在软件内的所有静态界面生成后，会保存在软件目录下的output文件内，output目录同时会有一个&quot;.git&quot;文件。此目录可以作为仓库打开。查看config，发现是使用https链接进行同步，而此种方式在国内是很慢的，即使打开全局代理，Gridea是不走系统代理的，所以开代理的效果并不显著。 根据经验，SSH链接的仓库推送拉取是最快的，不挂代理的情况速度轻轻松松可以达到1~2M甚至更快， 所以使用SSH方式同步仓库。步骤如下： 方法一 1.清空output文件夹内的所有文件（这里是生成的静态界面以及git仓库配置文件，并不是数据源文件，可以再次生成），原因是github不能克隆仓库到非空的文件夹内，所以需要清空。 2.复制博客仓库的SSH链接（需要提前配置好SSH公钥，具体怎么配置请自行百度“如何添加github的ssh公钥”），然后克隆到本地 3.此时output文件夹内会有.git文件，还有可能有其他文件，（取决于初始化仓库时有没有生成其他文件）然后删掉除了.git文件的其他所有文件，点击Gridea内的同步，同步是否成功没有关系，此时会在output文件架内生成用于发布的静态界面。接下来的操作完全就是操作一个git仓库，推送上去就可以，无论是git命令行或者Git desktop客户端还是其他第三方git客户端都没有区别，暂存文件并推送，打开博客主页，就可以看到推送成功。 方法2 这种方法是无意中试出来的，即删除.git文件，然后点击同步，可意外的同步成功，尝试了几次都可以。 不过测试次数不足，可能因人而异。 ","link":"https://is-whale.github.io/post/ji-lu-gridea-tong-bu-bu-cheng-gong-de-jie-jue-fang-an/"},{"title":"Gridea配置","content":"初始化完成； 远程链接完成； 主题更换完成； 域名还未解析； ","link":"https://is-whale.github.io/post/gridea-pei-zhi/"},{"title":"Hello Gridea","content":"👏 欢迎使用 Gridea ！ ✍️ Gridea 一个静态博客写作客户端。你可以用它来记录你的生活、心情、知识、笔记、创意... ... <!-- more --> Github Gridea 主页 示例网站 特性👇 📝 你可以使用最酷的 Markdown 语法，进行快速创作 🌉 你可以给文章配上精美的封面图和在文章任意位置插入图片 🏷️ 你可以对文章进行标签分组 📋 你可以自定义菜单，甚至可以创建外部链接菜单 💻 你可以在 Windows，MacOS 或 Linux 设备上使用此客户端 🌎 你可以使用 𝖦𝗂𝗍𝗁𝗎𝖻 𝖯𝖺𝗀𝖾𝗌 或 Coding Pages 向世界展示，未来将支持更多平台 💬 你可以进行简单的配置，接入 Gitalk 或 DisqusJS 评论系统 🇬🇧 你可以使用中文简体或英语 🌁 你可以任意使用应用内默认主题或任意第三方主题，强大的主题自定义能力 🖥 你可以自定义源文件夹，利用 OneDrive、百度网盘、iCloud、Dropbox 等进行多设备同步 🌱 当然 Gridea 还很年轻，有很多不足，但请相信，它会不停向前 🏃 未来，它一定会成为你离不开的伙伴 尽情发挥你的才华吧！ 😘 Enjoy~ ","link":"https://is-whale.github.io/post/hello-gridea/"}]}